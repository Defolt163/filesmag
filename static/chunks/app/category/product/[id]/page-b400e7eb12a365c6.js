(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{5837:function(e,t,s){Promise.resolve().then(s.bind(s,5817))},5817:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(7437),r=s(2265);s(2767);var a=s(6041);function c(){let e,t;(0,r.useEffect)(()=>{(0,a.ej)()});let s=(0,a.ej)("UserData"),c="";if(s)try{e=JSON.parse(s),c=null!==e.userId?e.userId:"",null!==e.logginin&&e.logginin}catch(e){console.error(e)}(0,r.useEffect)(()=>{(()=>{let e=window.location.pathname,s=e.split("/");t=s[s.length-1]})()},[]);let[i,o]=(0,r.useState)([]),[l,d]=(0,r.useState)([]);async function u(){await fetch("https://64f493b1932537f4051a7cde.mockapi.io/Products/".concat(t)).then(e=>e.json()).then(e=>{o(e),d(e.name)})}(0,r.useEffect)(()=>{u()},[]);let[h,f]=(0,r.useState)(1);return(0,r.useEffect)(()=>{document.title="".concat(l)},[l]),(0,n.jsx)("div",{className:"ProductPage",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"ProductPageWrapper",children:[(0,n.jsx)("div",{className:"ProductImage",style:{background:"url(".concat(i.image,") center center/cover no-repeat")},children:!0===i.statusnew&&!0===i.statushot?(0,n.jsxs)("div",{className:"ProductStatusBar",children:[(0,n.jsx)("div",{className:"ProductStatus",children:"New"}),(0,n.jsx)("div",{className:"ProductStatus",children:"Hot"})]}):!0===i.statusnew?(0,n.jsx)("div",{className:"ProductStatusBar",children:(0,n.jsx)("div",{className:"ProductStatus",children:"New"})}):!0===i.statushot?(0,n.jsx)("div",{className:"ProductStatusBar",children:(0,n.jsx)("div",{className:"ProductStatus",children:"Hot"})}):null}),(0,n.jsxs)("div",{className:"ProductInfo",children:[(0,n.jsx)("div",{className:"ProductRating",children:i.rating>=5?(0,n.jsx)("div",{children:Array.from({length:5}).map((e,t)=>(0,n.jsx)("i",{className:"fa-solid fa-star"},t))}):4===i.rating?(0,n.jsx)("div",{children:Array.from({length:4}).map((e,t)=>(0,n.jsx)("i",{className:"fa-solid fa-star"},t))}):3===i.rating?(0,n.jsx)("div",{children:Array.from({length:3}).map((e,t)=>(0,n.jsx)("i",{className:"fa-solid fa-star"},t))}):2===i.rating?(0,n.jsx)("div",{children:Array.from({length:2}).map((e,t)=>(0,n.jsx)("i",{className:"fa-solid fa-star"},t))}):(0,n.jsx)("div",{children:(0,n.jsx)("i",{className:"fa-solid fa-star"})})}),(0,n.jsx)("div",{className:"ProductName",children:i.name}),(0,n.jsx)("div",{className:"ProductDescr",children:(0,n.jsx)(e=>{let{children:t}=e,[s,a]=(0,r.useState)(!0);return(0,n.jsxs)("p",{className:"text",children:[t&&(s?t.slice(0,100):t),(0,n.jsx)("span",{onClick:()=>{a(!s)},className:"read-or-hide",style:{color:"green",cursor:"pointer"},children:s?"...Показать Больше":" Скрыть"})]})},{children:i.descr})}),(0,n.jsxs)("div",{className:"ProductPrice",children:["Цена: ",i.price," $"]}),(0,n.jsxs)("div",{className:"ProductActions",children:[(0,n.jsx)("div",{className:"ProductCountAction",children:(0,n.jsxs)("div",{className:"CartItemPieceWrapper",children:[(0,n.jsx)("div",{onClick:()=>void f(h-1),className:"CartItemPieceIteration",children:"-"}),(0,n.jsx)("div",{className:"PiecesNumber",children:h}),(0,n.jsx)("div",{onClick:()=>void f(h+1),className:"CartItemPieceIteration",children:"+"})]})}),(0,n.jsx)("div",{className:"ProductAddToCart",onClick:()=>{!function(e){fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(c),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{let s=t.cart||[],n=[...s,e];return fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:n})})}).then(e=>e.json()).catch(e=>{console.error(e)})}(i.id)},children:"Добавить в корзину"})]})]})]})})})}},6041:function(e,t,s){"use strict";let n;s.d(t,{Ej:function(){return l},Xq:function(){return o},a2:function(){return i},ej:function(){return u},oY:function(){return d}});let r=u("UserData"),a="",c="";if(r)try{n=JSON.parse(r),a=null!==n.userId?n.userId:"",c=null!==n.logginin?n.logginin:""}catch(e){console.error(e)}async function i(){return fetch("https://64f493b1932537f4051a7cde.mockapi.io/Products").then(e=>e.json()).then(e=>e)}function o(e){!0===c?fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{let s=t.cart||[],n=[...s,e];return fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:n})})}).then(e=>e.json(),alert("Добавлено")).catch(e=>{console.error(e)}):alert("Вам необходимо авторизоваться")}async function l(e){await fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(a)).then(e=>e.json()).then(t=>{e(t)})}async function d(e){await fetch("https://65605efe83aba11d99d0b111.mockapi.io/Users/".concat(a)).then(e=>e.json()).then(t=>{e(t)})}function u(e){{let t=e+"=",s=decodeURIComponent(document.cookie).split(";");for(let e=0;e<s.length;e++){let n=s[e];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}}return""}},2767:function(){},622:function(e,t,s){"use strict";var n=s(2265),r=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var n,o={},l=null,d=null;for(n in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!i.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:r,type:e,key:l,ref:d,props:o,_owner:c.current}}t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5837)}),_N_E=e.O()}]);